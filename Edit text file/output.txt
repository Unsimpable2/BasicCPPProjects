sdshgsdg
--MIKE
THE SYSTEM.
CAN PLOT THE QUANITY GAIN TO GET A BODE PLOT THE OPEN-LOOP RESPONSE OF
IF LTSPICE SHOULD COMBINE THE REAL .MEAS DATA TO COMPLEX DATA.  THEN YOU
COMMAND "PLOT .STEP'ED .MEAS DATA"  ANSWER YES TO THE DIALOG THAT ASKS
VIEW=>SPICE ERROR LOG, AND THEN RIGHT MOUSE CLICKING AND EXECUTING MENU
CAN PLOT THE OPEN-LOOP RESPONSE BE EXECUTING MENU COMMAND
YOU CAN SET UP A .STEP STATEMENT TO SWEEP THE PARAMETER FREQ.  THEN YOU

ERROR LOG.
CROSSOVER FREQUENCY AND PHASE MARGIN WILL BE REPORTED AS GAINPHI IN THE
YOU CAN ITERATE THE PARAM FREQ TO ZERO DB.  THAT FREQUENCY IS THE LOOP

    AND THE PHASE IS GIVEN BY  GAINPHI[°].
    ANALYSIS.  THE OPEN-LOOP RESPONSE MAGNITUDE IS GIVEN BY GAINMAG[DB]
6.  EXECUTE MENU COMMAND VIEW=>SPICE ERROR LOG TO SEE THE RESULTS OF THIS

    WITH THE .PARAM STATEMENT OF STEP 3.
5.  RERUN THE .TRAN COMMAND TO DO THE ANALYSIS AT THE FREQUENCY DEFINED

    UNTIL THIS TIME.
    STEADY STATE AND THEN EDIT THE .TRAN COMMAND SO THAT DATA ISN'T SAVED
4.  RUN A .TRAN COMMAND TO SEE HOW LONG IT TAKES YOUR CIRCUIT TO COME TO
 
     .PARAM FREQ=10K

3.  PLACE A SPICE DIRECTIVE ON THE SCHMATIC THAT DEFINES FREQ:

    THIS VOLTAGE SOURSE THE VALUE SINE(0 5M {FREQ})
2.  INSERT A VOLTAGE SOURCE IN THE FEEDBACK LOOP UNDER ANALYSIS.  GIVE

     .MEASURE GAINPHI PARAM MOD(ATAN2(AIM,ARE)-ATAN2(BIM,BRE)+180,360)-180
     .MEASURE GAINMAG PARAM 20*LOG10(HYPOT(ARE,AIM) / HYPOT(BRE,BIM))
     .MEASURE BIM AVG -(V(B)-BAVG)*SIN(360*TIME*FREQ)
     .MEASURE BRE AVG  (V(B)-BAVG)*COS(360*TIME*FREQ)
     .MEASURE AIM AVG -(V(A)-AAVG)*SIN(360*TIME*FREQ)
     .MEASURE ARE AVG  (V(A)-AAVG)*COS(360*TIME*FREQ)
     .MEASURE BAVG AVG V(B)
     .MEASURE AAVG AVG V(A)

    DIRECTIVE:
1.  PLACE THESE .MEASURE STATEMENTS ON YOUR CIRCUIT AS A SPICE

SMPS DESIGN, FOLLOW THESE STEPS:
AND COMPUTER THE OPEN-LOOP RESPONSE.  TO USE THIS SCRIPT INTO YOUR OWN
A SCRIPT OF .MEASURE STATEMENTS IS USED TO PERFORM THE FOURIER ANALYSIS

FROM FOURIER ANALYSIS OF A TIME-DOMAIN SINE WAVE PERTURBATION.
CONTINUOUS-TIME(AVERAGE) EQUIVALENTS, THE COMPLEX VOLTAGE IS DETERMINED
THAT INCLUDE DETAILED SWITCHING INFORMATION BUT DON'T INCLUDE
BUT SINCE THE SMPS MACROMODELS ARE IMPLEMENTED AS TIME-DOMAIN MODELS

OF THE PERTURBING VOLTAGE SOURCE.
OPEN-LOOP GAIN IS GIVEN BY THE RATIO OF COMPLEX VOLTAGES AT EITHER SIDE
PERTURBATION IS SERVOED OUT OF THE THE LOOP VIA THE FEEDBACK.  THE
A PERTURBING VOLTAGE SOURCE IN THE LOOP AND MEASURING HOW WELL THE
THE OPEN-LOOP GAIN IS COMPUTED FROM THE CLOSED-LOOP SYSTEM BY INSERTING

LOOP GAIN.
INFINITE SO THAT THE LOOP GAIN CAN BE COMPUTED SOLELY BY THE VOLTAGE
THE METHOD ASSUMES THAT THE INPUT IMPEDANCE OF THE ERROR AMPLIFIER IS
SUBSET OF THE METHOD SHOWN IN ../LOOPGAIN.ASC AND ../LOOPGAIN2.ASC.
GAIN FROM TIME-DOMAIN, CLOSED-LOOP SIMULATIONS.  THE TECHNIQUE IS A
THESE EXAMPLES SHOW TO HOW TO EXTRACT THE SMALL-SIGNAL, AC OPEN-LOOP

                       FREQUENCY RESPONSE ANALYSIS
